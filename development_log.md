## FTP 咕咕咕团队的不咕日志

- [队员开发日志](#队员开发日志)
- [作业要求](#作业要求)
- [客户端功能](#客户端功能)
- [服务器功能](#服务器功能)
- [客户端思考](#客户端思考)
- [服务器思考](#服务器思考)
- [注意](#注意)

## 队员开发日志

- [陈一](https://gist.github.com/cycychenyi/88c559791e331f56ef011d459547ae9f)

## 作业要求

1. FTP 客户端要求具有图形化界面、上传、下载功能，鼓励实现断点续传功能。
2. 客户端操作系统为 Windows。
3. FTP 程序使用 socket 方式编程，从创建 socket、建立 TCP 连接开始，实现 FTP、SMTP、POP3 协议的功能，**不得调用第三方控件**（可使用操作系统自身的 API 函数）。

## 客户端功能

**基础功能**

- [ ] Password 连接服务器
- [ ] 显示目录列表
- [ ] 上传文件
- [ ] 下载文件
- [ ] 删除文件
- [ ] 上传下载进度条
- [ ] 查看正在传输 / 传输成功 / 传输失败的列表
- [ ] 断点续传

**可扩展功能**

- [ ] 设置默认启动文件夹
- [ ] 设置时间间隔，发送保持活动状态消息
- [ ] 设置时间间隔，自动刷新远程文件列表
- [ ] 设置编码方式
- [ ] 导入 / 导出会话信息
- [ ] Public Key 连接服务器
- [ ] 上传 / 下载速度限制
- [ ] 站点管理
- [ ] 并发连接

## 服务器功能

**基础功能**

- [ ] 增删改查用户
- [ ] 认证用户
- [ ] 连接 / 登录超时设置
- [ ] 监听端口（默认 21）设置
- [ ] 欢迎消息设置
- [ ] 高位随机端口范围设置

**扩展功能**

- [ ] 管理接口
- [ ] 设置最大连接数
- [ ] 为每个用户单独设置共享文件夹
- [ ] IP 白名单 & 黑名单
- [ ] 日志
- [ ] 多次认证失败自动禁止
- [ ] 上传 / 下载速度限制
- [ ] 用户组管理
- [ ] 文件传输压缩
- [ ] FTPS

## 客户端思考

**基础功能**

- Password 连接服务器

  需要信息：会话名称、主机地址（IP 或域名）、端口号（默认 21）、用户名、密码。

**扩展功能**

- 设置默认启动文件夹

  包括本地文件夹（如用户主目录或桌面）和远程文件夹（如根目录或项目目录）。

- 设置编码方式

  包括自动检测、UTF-8 等。

- Public Key 连接服务器

  连接窗口添加「方法」字段（可选 Password 或 Public Key），「密码」字段换为「密钥」。

- 站点管理

  参考 FileZilla，文件夹式管理。

## 服务器思考

**基础功能**

- 增删改查用户

  需要信息：用户名、是否需要密码（如果需要的话添加「密码」字段）

**扩展功能**

- 为每个用户单独设置共享文件夹

  设置读写权限。

- 管理接口

  如 FileZilla 的 Server Interface，监听 14147 端口，可以设置可连接 IP 和密码。

## 注意

1. 采用被动连接，因为客户端的高位随机端口可能被防火墙拦截。可以选择开放服务器的部分高位随机端口，比全部开放安全。
2. 关于密码：客户端哈希加密之后传给服务器，服务器最好也再哈希加密一次。

## 推荐阅读

- [FTP Client 连接示例](https://gist.github.com/8f0d223fdeac625f6c2bd0b4fdd9524c#file-ftp_client_example-md)
- [Electron 官方文档](https://www.electronjs.org/docs)
- [Awesome Electron](https://github.com/sindresorhus/awesome-electron)
- [Awesome Node.js](https://github.com/sindresorhus/awesome-nodejs)
